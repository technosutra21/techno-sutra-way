import{c as S,b as M,d as U}from"./index-vPc54tj1.js";import{j as I}from"./ui-CNstozTn.js";import{r as D}from"./vendor-DWZhD1wM.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=S("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=S("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=S("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),R=U("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function H({className:c,variant:e,...g}){return I.jsx("div",{className:M(R({variant:e}),c),...g})}const E=c=>{const e=c.split(`
`);if(e.length<2)return[];const g=e[0].split(",").map(u=>u.replace(/^"/,"").replace(/"$/,"").trim()),h=[];for(let u=1;u<e.length;u++){const d=e[u].trim();if(!d)continue;const p=[];let m="",i=!1;for(let s=0;s<d.length;s++){const r=d[s],a=d[s+1];r==='"'?i&&a==='"'?(m+='"',s++):i=!i:r===","&&!i?(p.push(m.trim()),m=""):m+=r}p.push(m.trim());const o={};g.forEach((s,r)=>{o[s]=p[r]||""}),h.push(o)}return h},V=c=>c.map(e=>({id:e.ID||"",createdDate:e["Created Date"]||"",updatedDate:e["Updated Date"]||"",owner:e.Owner||"",capitulo:parseInt(e.capitulo||"0"),nome:e.Nome||"",ensinamento:e.Ensinamento||"",descPersonagem:e["Desc. Personagem"]||"",ocupacao:e.Ocupação||e.Ocupacao||"",significado:e.Significado||"",local:e.Local||"",resumoCap:e["Resumo do Cap. (84000.co)"]||"",capFileName:e["Cap. FILE NAME"]||"",capUrl:e["Cap. URL"]||"",qrCodeUrl:e["QR Code URL"]||"",linkModel:e["LINK MODEL"]||""})),O=c=>c.map(e=>({id:e.ID||"",createdDate:e["Created Date"]||"",updatedDate:e["Updated Date"]||"",owner:e.Owner||"",chapter:parseInt(e.chapter||"0"),name:e.Name||"",teaching:e.Teaching||"",characterDesc:e["Character Desc"]||"",occupation:e.Occupation||"",meaning:e.Meaning||"",location:e.Location||"",chapterSummary:e["Chapter Summary"]||"",capFileName:e["Cap. FILE NAME"]||"",capUrl:e["Cap. URL"]||"",qrCodeUrl:e["QR Code URL"]||"",linkModel:e["LINK MODEL"]||""})),P=c=>c.map(e=>({id:e.ID||"",createdDate:e["Created Date"]||"",updatedDate:e["Updated Date"]||"",owner:e.Owner||"",chapter:parseInt(e.chapter||"0"),character:e.Character||"",meaning:e.Meaning||"",location:e.Location||"",encounter:e.Encounter||"",assembly:e.Assembly||"",dialogue:e.Dialogue||"",teaching:e.Teaching||"",manifestation:e.Manifestation||"",learning:e.Learning||"",direction:e.Direction||"",literaryStructure:e["Literary Structure"]||""})),A=c=>c.map(e=>({id:e.ID||"",createdDate:e["Created Date"]||"",updatedDate:e["Updated Date"]||"",owner:e.Owner||"",chapter:parseInt(e.chapter||"0"),character:e.Character||"",meaning:e.Meaning||"",location:e.Location||"",encounter:e.Encounter||"",assembly:e.Assembly||"",dialogue:e.Dialogue||"",teaching:e.Teaching||"",manifestation:e.Manifestation||"",learning:e.Learning||"",direction:e.Direction||"",literaryStructure:e["Literary Structure"]||""})),Q=()=>{const[c,e]=D.useState(null),[g,h]=D.useState(!0),[u,d]=D.useState(null);D.useEffect(()=>{(async()=>{try{h(!0);const[o,s,r,a]=await Promise.all([fetch("/characters.csv"),fetch("/characters_en.csv"),fetch("/chapters.csv"),fetch("/chapters_en.csv")]);if(!o.ok||!s.ok||!r.ok||!a.ok)throw new Error("Failed to load CSV files");const[f,y,t,n]=await Promise.all([o.text(),s.text(),r.text(),a.text()]),l=E(f),N=E(y),L=E(t),b=E(n),C=V(l),k=O(N),v=P(L),x=A(b);e({characters:C,charactersEN:k,chapters:v,chaptersEN:x}),console.log("Sutra data loaded successfully:",{characters:C.length,charactersEN:k.length,chapters:v.length,chaptersEN:x.length})}catch(o){console.error("Error loading CSV data:",o),d(o instanceof Error?o.message:"Unknown error")}finally{h(!1)}})()},[]);const p=(i="pt")=>{if(!c)return[];const o=i==="pt"?c.characters:c.charactersEN,s=i==="pt"?c.chapters:c.chaptersEN;return o.map(r=>{var f,y;const a=s.find(t=>t.chapter===(i==="pt"?r.capitulo:r.chapter));if(i==="pt"){const t=r,n=c.charactersEN.find(l=>l.chapter===t.capitulo);return{id:t.id,chapter:t.capitulo,nome:t.nome,name:(n==null?void 0:n.name)||t.nome,ocupacao:t.ocupacao,occupation:(n==null?void 0:n.occupation)||t.ocupacao,significado:t.significado,meaning:(n==null?void 0:n.meaning)||t.significado,local:t.local,location:(n==null?void 0:n.location)||t.local,ensinamento:t.ensinamento,teaching:(n==null?void 0:n.teaching)||t.ensinamento,descPersonagem:t.descPersonagem,characterDesc:(n==null?void 0:n.characterDesc)||t.descPersonagem,resumoCap:t.resumoCap,chapterSummary:(n==null?void 0:n.chapterSummary)||t.resumoCap,linkModel:t.linkModel,capUrl:t.capUrl,qrCodeUrl:t.qrCodeUrl,encounter:a==null?void 0:a.encounter,assembly:a==null?void 0:a.assembly,dialogue:a==null?void 0:a.dialogue,manifestation:a==null?void 0:a.manifestation,learning:a==null?void 0:a.learning,direction:a==null?void 0:a.direction,literaryStructure:a==null?void 0:a.literaryStructure}}else{const t=r,n=c.characters.find(l=>l.capitulo===t.chapter);return{id:t.id,chapter:t.chapter,nome:(n==null?void 0:n.nome)||t.name,name:t.name,ocupacao:(n==null?void 0:n.ocupacao)||t.occupation,occupation:t.occupation,significado:(n==null?void 0:n.significado)||t.meaning,meaning:t.meaning,local:(n==null?void 0:n.local)||t.location,location:t.location,ensinamento:(n==null?void 0:n.ensinamento)||t.teaching,teaching:t.teaching,descPersonagem:((f=c.characters.find(l=>l.capitulo===t.chapter))==null?void 0:f.descPersonagem)||t.characterDesc,characterDesc:t.characterDesc,resumoCap:((y=c.characters.find(l=>l.capitulo===t.chapter))==null?void 0:y.resumoCap)||t.chapterSummary,chapterSummary:t.chapterSummary,linkModel:t.linkModel,capUrl:t.capUrl,qrCodeUrl:t.qrCodeUrl,encounter:a==null?void 0:a.encounter,assembly:a==null?void 0:a.assembly,dialogue:a==null?void 0:a.dialogue,manifestation:a==null?void 0:a.manifestation,learning:a==null?void 0:a.learning,direction:a==null?void 0:a.direction,literaryStructure:a==null?void 0:a.literaryStructure}}}).sort((r,a)=>r.chapter-a.chapter)};return{data:c,loading:g,error:u,getCombinedData:p,getCharacterByChapter:(i,o="pt")=>p(o).find(s=>s.chapter===i)}};export{H as B,F as E,z as S,j as a,Q as u};
